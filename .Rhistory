a <- 1+1
a
install.packages('tidyverse')
install.packages('lubridate')
isntall.packages('pander')
install.packages('pander')
setwd("~/Personal/HPGC/Fouball Matches/HPGC4ball")
source('~/Personal/HPGC/Fouball Matches/HPGC4ball/makePools.R')
?substr
ch <- function(idx) {
isNH <- idx=="NH"
isPlus <- (substr(idx,1,1)=="-")
rating <- 124
hin <- numeric(length(idx))
hin[!isNH] <- as.numeric(idx[!isNH])
chi <- character(length(idx))
chi[!isNH] <- as.character(round(rating/113*hin[!isNH],0))
chi[isPlus&&chi!="0"] <- paste("+",substr(chi[isPlus],2,10000L))
chi[isNH] <- "0"
chi
}
roster <- read.csv("../rosterPools.csv")
index <- read.csv("../indexResults.csv", colClasses = c("numeric","character","character"))
roster <- merge(roster, index, by.x="ghin",by.y="ghin")
roster$index[roster$ghin==9999999] <- "NH"
roster <- roster[,c("Name","teamNo","pools","index","asOf")]
roster$'Course Handicap' <- ch(roster$index)
names(roster) <- c("Player","Team","Pool","Handicap Index","Current As Of", "Course Handicap")
roster <- roster[order(roster$Team),]
pander(roster,row.names=FALSE, style = "simple", split.table = 240)
ch(roster$index)
roster
roster$Index
roster$`Handicap Index`
a <- roster$`Handicap Index`
a
a[4]
a[4][1]
substr(a, 1, 1)
substr(a[4], 1, 1)
substr(a[4], 1, 1) == '-'
ch(a)
ch <- function(idx) {
isNH <- idx=="NH"
isPlus <- (substr(idx,1,1)=="-")
print(isPlus)
rating <- 124
hin <- numeric(length(idx))
hin[!isNH] <- as.numeric(idx[!isNH])
chi <- character(length(idx))
chi[!isNH] <- as.character(round(rating/113*hin[!isNH],0))
chi[isPlus&&chi!="0"] <- paste("+",substr(chi[isPlus],2,10000L))
chi[isNH] <- "0"
chi
}
ch(a)
ch <- function(idx) {
isNH <- idx=="NH"
isPlus <- (substr(idx,1,1)=="-")
print(isPlus)
rating <- 124
hin <- numeric(length(idx))
hin[!isNH] <- as.numeric(idx[!isNH])
chi <- character(length(idx))
chi[!isNH] <- as.character(round(rating/113*hin[!isNH],0))
chi[isPlus&&chi!="0"] <- paste("+",substr(chi[isPlus&&chi!="0"],2,10000L))
print(isPlus&&chi!="0")
chi[isNH] <- "0"
chi
}
ch(a)
?'
&''
''
?\&
?'\&'
?"&"
ch <- function(idx) {
isNH <- idx=="NH"
isPlus <- (substr(idx,1,1)=="-")
print(isPlus)
rating <- 124
hin <- numeric(length(idx))
hin[!isNH] <- as.numeric(idx[!isNH])
chi <- character(length(idx))
chi[!isNH] <- as.character(round(rating/113*hin[!isNH],0))
chi[isPlus & chi!="0"] <- paste("+",substr(chi[isPlus & chi!="0"],2,10000L))
print(isPlus & chi!="0")
chi[isNH] <- "0"
chi
}
ch(a)
chi[isNH] <- "0"
